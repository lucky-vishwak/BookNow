{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet AddRoomComponent = class AddRoomComponent {\n  constructor(formBuilder, adminService) {\n    this.formBuilder = formBuilder;\n    this.adminService = adminService;\n  }\n  ngOnInit() {\n    this.roomBookingForm = this.formBuilder.group({\n      roomName: ['', [Validators.required, Validators.minLength(6)]],\n      roomType: ['', [Validators.required, Validators.minLength(3)]],\n      access: this.formBuilder.array([this.formBuilder.control('')], [Validators.maxLength(2)]),\n      capacity: [null, [Validators.required, Validators.min(1)]],\n      image: ['', Validators.required]\n    });\n    // this.imageUploadForm = this.formBuilder.group({\n    //   images: this.formBuilder.array([this.formBuilder.control('')], Validators.required)\n    // });\n  }\n\n  get roomName() {\n    return this.roomBookingForm.get('roomName');\n  }\n  get roomType() {\n    return this.roomBookingForm.get('roomType');\n  }\n  get access() {\n    return this.roomBookingForm.get('access');\n  }\n  get capacity() {\n    return this.roomBookingForm.get('capacity');\n  }\n  get image() {\n    return this.roomBookingForm.get('image');\n  }\n  // get images(){\n  //   return this.imageUploadForm.get('images') as FormArray;\n  // }\n  selectFile(event) {\n    this.file = event.target.files[0];\n  }\n  // addImage():void{\n  //   this.images.push(this.formBuilder.control(''))\n  // }\n  addAccess() {\n    this.access.push(this.formBuilder.control(''));\n  }\n  onSubmit() {\n    let formData = new FormData();\n    formData.append(\"image\", this.file, this.file.name);\n    formData.append('roomObj', JSON.stringify(this.roomBookingForm.value));\n    this.adminService.addRoom(formData).subscribe(res => {\n      console.log(res);\n    });\n  }\n};\nAddRoomComponent = __decorate([Component({\n  selector: 'app-add-room',\n  templateUrl: './add-room.component.html',\n  styleUrls: ['./add-room.component.css']\n})], AddRoomComponent);\nexport { AddRoomComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAe,eAAe;AAChD,SAA4CC,UAAU,QAAQ,gBAAgB;AAQvE,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAM3BC,YAAoBC,WAAwB,EAASC,YAAyB;IAA1D,gBAAW,GAAXD,WAAW;IAAsB,iBAAY,GAAZC,YAAY;EAAe;EAChFC,QAAQ;IACN,IAAI,CAACC,eAAe,GAAG,IAAI,CAACH,WAAW,CAACI,KAAK,CAAC;MAC5CC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACR,UAAU,CAACS,QAAQ,EAAET,UAAU,CAACU,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9DC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACX,UAAU,CAACS,QAAQ,EAAET,UAAU,CAACU,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9DE,MAAM,EAAE,IAAI,CAACT,WAAW,CAACU,KAAK,CAAC,CAAC,IAAI,CAACV,WAAW,CAACW,OAAO,CAAC,EAAE,CAAC,CAAC,EAAC,CAACd,UAAU,CAACe,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MACxFC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAChB,UAAU,CAACS,QAAQ,EAAET,UAAU,CAACiB,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1DC,KAAK,EAAC,CAAC,EAAE,EAAClB,UAAU,CAACS,QAAQ;KAC9B,CAAC;IACF;IACA;IACA;EACF;;EAEA,IAAID,QAAQ;IACV,OAAO,IAAI,CAACF,eAAe,CAACa,GAAG,CAAC,UAAU,CAAC;EAC7C;EACA,IAAIR,QAAQ;IACV,OAAO,IAAI,CAACL,eAAe,CAACa,GAAG,CAAC,UAAU,CAAC;EAC7C;EACA,IAAIP,MAAM;IACR,OAAO,IAAI,CAACN,eAAe,CAACa,GAAG,CAAC,QAAQ,CAAc;EACxD;EACA,IAAIH,QAAQ;IACV,OAAO,IAAI,CAACV,eAAe,CAACa,GAAG,CAAC,UAAU,CAAC;EAC7C;EACA,IAAID,KAAK;IACP,OAAO,IAAI,CAACZ,eAAe,CAACa,GAAG,CAAC,OAAO,CAAC;EAC1C;EACA;EACA;EACA;EAEAC,UAAU,CAACC,KAAS;IAClB,IAAI,CAACC,IAAI,GAAED,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;EAClC;EACA;EACA;EACA;EACAC,SAAS;IACP,IAAI,CAACb,MAAM,CAACc,IAAI,CAAC,IAAI,CAACvB,WAAW,CAACW,OAAO,CAAC,EAAE,CAAC,CAAC;EAChD;EAGAa,QAAQ;IACN,IAAIC,QAAQ,GAAC,IAAIC,QAAQ,EAAE;IAC3BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAC,IAAI,CAACR,IAAI,EAAC,IAAI,CAACA,IAAI,CAACS,IAAI,CAAC;IACjDH,QAAQ,CAACE,MAAM,CAAC,SAAS,EAACE,IAAI,CAACC,SAAS,CAAC,IAAI,CAAC3B,eAAe,CAAC4B,KAAK,CAAC,CAAC;IAErE,IAAI,CAAC9B,YAAY,CAAC+B,OAAO,CAACP,QAAQ,CAAC,CAACQ,SAAS,CAACC,GAAG,IAAE;MACjDC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CAAC;EAGJ;CAED;AA9DYpC,gBAAgB,eAL5BF,SAAS,CAAC;EACTyC,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,GACWzC,gBAAgB,CA8D5B;SA9DYA,gBAAgB","names":["Component","Validators","AddRoomComponent","constructor","formBuilder","adminService","ngOnInit","roomBookingForm","group","roomName","required","minLength","roomType","access","array","control","maxLength","capacity","min","image","get","selectFile","event","file","target","files","addAccess","push","onSubmit","formData","FormData","append","name","JSON","stringify","value","addRoom","subscribe","res","console","log","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/home/vishal.m/Learning/AngularTutorial/DBbook/src/app/admin/add-room/add-room.component.ts"],"sourcesContent":["import { Component,OnInit } from '@angular/core';\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AdminService } from 'src/app/admin.service';\n\n@Component({\n  selector: 'app-add-room',\n  templateUrl: './add-room.component.html',\n  styleUrls: ['./add-room.component.css']\n})\nexport class AddRoomComponent implements OnInit {\n\n\n  roomBookingForm!: FormGroup;\n  file!:File\n\n  constructor(private formBuilder: FormBuilder,private adminService:AdminService){}\n  ngOnInit(): void {\n    this.roomBookingForm = this.formBuilder.group({\n      roomName: ['', [Validators.required, Validators.minLength(6)]],\n      roomType: ['', [Validators.required, Validators.minLength(3)]],\n      access: this.formBuilder.array([this.formBuilder.control('')],[Validators.maxLength(2)]),\n      capacity: [null, [Validators.required, Validators.min(1)]] ,\n      image:['',Validators.required]\n    });  \n    // this.imageUploadForm = this.formBuilder.group({\n    //   images: this.formBuilder.array([this.formBuilder.control('')], Validators.required)\n    // });\n  }\n\n  get roomName(){\n    return this.roomBookingForm.get('roomName');\n  }\n  get roomType(){\n    return this.roomBookingForm.get('roomType');\n  }\n  get access(){\n    return this.roomBookingForm.get('access') as FormArray;\n  }\n  get capacity(){\n    return this.roomBookingForm.get('capacity');\n  }\n  get image(){\n    return this.roomBookingForm.get('image');\n  }\n  // get images(){\n  //   return this.imageUploadForm.get('images') as FormArray;\n  // }\n\n  selectFile(event:any){\n    this.file= event.target.files[0]  \n  }\n  // addImage():void{\n  //   this.images.push(this.formBuilder.control(''))\n  // }\n  addAccess():void{\n    this.access.push(this.formBuilder.control(''));\n  }\n  \n\n  onSubmit() {\n    let formData=new FormData();\n    formData.append(\"image\",this.file,this.file.name)\n    formData.append('roomObj',JSON.stringify(this.roomBookingForm.value))\n    \n    this.adminService.addRoom(formData).subscribe(res=>{\n      console.log(res);\n    })\n    \n\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}